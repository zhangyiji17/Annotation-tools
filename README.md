# 🏭 山河智能数据标注工具

基于 Gradio 构建的多功能数据标注工具，支持问答对生成、图像任务和多模态分析，实现 AI 辅助的半自动化数据标注流程。

## ✨ 核心特性

### 🤖 多模式任务支持
- **📝 问答对生成**：基于 PDF 文档或纯文本，利用大语言模型自动生成高质量问答对
- **🖼️ 图像任务**：支持目标检测、图像分类、实例分割三种视觉任务
- **🔮 多模态分析**：结合视觉与语言模型，对图像内容进行深度理解与分析

### 🎯 智能标注功能
- **自动化检测**：默认集成 YOLO11n 系列模型，支持实时目标检测、图像分类和实例分割
- **本地模型支持**：支持上传自定义 YOLO 系列或其他模型文件（.pt 格式）
- **多任务切换**：可在目标检测、图像分类、实例分割之间灵活切换
- **交互式编辑**：可视化标注框编辑，支持拖拽、缩放和属性修改
- **多格式导出**：同时生成 YOLO 格式、COCO 格式和 JSON 汇总文件
- **批量处理**：支持单文件、多文件和整个文件夹批量上传处理

### 🔧 技术特性
- **现代化界面**：Gradio 框架构建，响应式布局，美观易用
- **模块化设计**：清晰的代码结构，易于扩展和维护
- **实时进度反馈**：处理过程实时状态显示和进度条
- **配置灵活**：支持多种大模型 API，可配置参数丰富
- **本地化部署**：支持离线环境下的模型运行和数据标注

## 📋 功能详情

### 1. 问答对生成模式
- **输入源**：PDF 文档或纯文本输入
- **AI 模型**：支持 DeepSeek、GPT 系列等多种大语言模型
- **场景预设**：提供设备维护检查、操作流程指导等工业场景预设
- **自定义提示**：支持自定义系统提示词和任务提示词
- **并发处理**：可配置并发请求数，提升处理效率
- **输出格式**：标准 JSON 格式，包含问答对和元数据

### 2. 图像任务模式
- **任务类型**：支持目标检测、图像分类、实例分割
- **模型选择**：内置 YOLOv11n 预训练模型，支持 80 个 COCO 类别
- **本地模型**：支持上传自定义 YOLO 模型（.pt 格式）
- **参数调节**：可调节置信度阈值（0.1-0.9）
- **可视化展示**：实时显示检测结果和边界框
- **标注编辑**：可编辑标注表格，支持坐标、类别、置信度修改
- **导航功能**：多图片上传支持前后导航浏览
- **批量导出**：自动保存标注文件到指定目录

### 3. 多模态生成模式
- **视觉理解**：利用多模态模型分析图像内容
- **文本描述**：生成详细的图像描述和分析结果
- **工业场景优化**：针对工业设备图像进行专项优化
- **模型选择**：支持多种多模态大语言模型

## 🚀 快速开始

### 环境要求
- Python 3.8+
- CUDA 11.0+ (GPU 加速推荐，可选)
- 至少 8GB RAM

### 安装步骤

#### 1. 克隆项目
```bash
git clone https://github.com/zhangyiji17/Annotation-tools.git
cd Annotation-tools
```

#### 2. 创建虚拟环境（推荐）
```bash
python -m venv venv
# Windows
venv\Scripts\activate
# Linux/Mac
source venv/bin/activate
```

#### 3. 安装依赖
```bash
pip install -r requirements.txt
```

#### 4. 配置模型文件
- 默认使用 YOLO模型，系统会自动引入yolo11n.pt模型（models/ 目录下）
- 支持上传本地其他模型文件（.pt 格式）

#### 5. 启动应用
```bash
python main.py 或 python run.py
```

#### 6. 访问应用
打开浏览器访问：http://localhost:7861
注意：如果端口被占用，会自动选择其他可用端口。

## 📖 使用指南
#### 选择任务模式
根据需求选择"问答对生成"、"图像任务"或"多模态生成"模式。

## 🔧 自定义与扩展
#### 添加新的 AI 模型支持
1.在 config.py 的 API_CONFIG 中添加新模型配置
2.在 api_handler.py 中实现对应的 API 调用逻辑
3.在 Gradio 界面的模型下拉框中添加新选项

## 🤝 贡献指南
欢迎提交 Issue 和 Pull Request 来帮助改进这个项目！

## 📄 许可证
本项目采用 MIT 许可证 - 查看 LICENSE 文件了解详情。

## 🙏 致谢
- Gradio - 快速构建机器学习 Web 应用的优秀框架
- Ultralytics YOLO - 强大的目标检测模型
- COCO Dataset - 通用对象检测数据集和评估标准
- PyTorch - 深度学习框架
- 所有贡献者和用户的支持与反馈

## 📞 联系方式
如有问题或建议，请通过以下方式联系：
- 提交 GitHub Issue
- 项目维护者邮箱：zhangpan17@foxmail.com
- 项目讨论区：GitHub Discussions

## ⭐ 支持项目

如果这个项目对您有帮助，请给我们一个 Star！这是对开发者的最大鼓励！
